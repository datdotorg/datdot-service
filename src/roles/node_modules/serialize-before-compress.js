const varint = require('varint')
const b4a = require('b4a')


module.exports = serialize_before_compress

function serialize_before_compress (data, unique_el, log) {
  log({ type: 'encoder', data: { text: 'Serializing before compressing', /* data, unique_el */ }})
  const dataBuf = b4a.from(data, 'binary')
  const elBuf = b4a.from(unique_el, 'binary')
  const len = dataBuf.length + elBuf.length
  const to_compress = b4a.concat([elBuf, dataBuf], len)
  return to_compress
}