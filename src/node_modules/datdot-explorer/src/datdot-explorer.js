const old = require('_old')

module.exports = datdot_explorer

function datdot_explorer ({ addresses }) {

  const df = document.createDocumentFragment()
  const el = document.createElement('div')
  el.innerHTML = `<div>
    <button> reload </button>
    <button> replay </button>
    <h1>datdot explorer </h1>
    <ol>
      ${addresses.map(address => `<li>${address}</li>`).join('\n')}
    </ol>
  </div>`
  const [reload_btn, replay_btn] = el.children[0].children
  reload_btn.onclick = () => { location = location }
  replay_btn.onclick = () => { replay() }
  df.append(el)
  const show = old(addresses)
  const dashboard = document.createElement('div')
  setTimeout(() => {
    const el = show()
    dashboard.append(el)
  }, 2000)
  df.append(dashboard)
  return df
}

function replay () {
  console.log('replay')
}
