module.exports = get_index

async function get_index (feed, index, log) {
  return new Promise((resolve, reject) => {
    feed.get(index, (err, res) => {
      if (err) {
        log({ type: 'feed', data: { text: 'Error in get_index', feedkey: feed.key.toString('hex'), index }})
        console.log({ text: 'ERROR when calling get_index', err })
        return reject(err)
      }
      // log({ type: 'feed', data: { text: 'Get_index', feedkey: feed.key.toString('hex'), index, res }})
      resolve(res)
    })
  })
}